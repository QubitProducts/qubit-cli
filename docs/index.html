<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/style.css?t=615badd5">
    <script src="assets/script.js?t=42463e55"></script>
    <title>xp-cli</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title -active link-index" href="index.html">xp-cli</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-features" href="#features">features</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-installation" href="#installation">installation</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-basic-usage" href="#basic-usage">basic usage</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-xp-pull" href="#xp-pull">xp pull</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-xp-push" href="#xp-push">xp push</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-templates" href="#templates">templates</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-file-reference" href="#file-reference">file reference</a>
            </li>
            <li class="menu-item -level-1"><a class="link title link-help-menu" href="#help-menu">help menu</a>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-index">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/qubitdigital/xp-cli" data-title="qubitdigital/xp-cli">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id=""><img src="https://cloud.githubusercontent.com/assets/640611/18666410/a11b3394-7f23-11e6-99b5-5cbbca6da27f.png" alt="xp-cli"></h1>
<p>A client to facilitate local development of experiences for the qubit platform</p>
<h2 id="features">features</h2>
<p>local offline development</p>
<ul>
<li>build experiences locally in your editor/IDE of choice</li>
<li>use your own workflow and versioning tools</li>
<li>write and run local unit tests</li>
</ul>
<p>advanced previewing</p>
<ul>
<li>instant local previewing on any site</li>
<li>live hot reloading of your variation and css</li>
<li>bypass qubit&apos;s remote build queue</li>
</ul>
<p>remote syncing</p>
<ul>
<li>create new experiences with a single command</li>
<li>scaffold your local project from existing experiences in the platform</li>
<li>control when to push your changes up or pull down the latest remote changes</li>
<li>develop your experience locally and choose when to share it</li>
<li>use sync mode to watch for changes and sync with remote automatically</li>
</ul>
<p>templates</p>
<ul>
<li>create templates to speed up local development</li>
<li>publish templates to share ideas and examples with teammates</li>
<li>save time and effort by automating boilerplate and common variation code</li>
<li>improve code consistency and design by leveraging template reuse</li>
</ul>
<h2 id="installation">installation</h2>
<p>client</p>
<pre><code>npm install -g qubitdigital/xp-cli --production
</code></pre>
<p>extension</p>
<pre><code>xp open
# navigate to chrome://extensions in chrome
# drag and drop chrome-extension folder into browser
# ensure &apos;enabled&apos; checkbox is ticked
# click &apos;allow in incognito&apos; if you would like to use xp in incognito mode
</code></pre>
<h2 id="basic-usage">basic usage</h2>
<p>once you have installed the client and extension</p>
<pre><code>mkdir xp-demo
cd xp-demo
xp pull example
xp variation.js --watch
// navigate to a url in chrome
// click the xp icon in chrome to turn the extension on for your current tab
</code></pre>
<h2 id="xp-pull">xp pull</h2>
<p>xp pull allows you to scaffold an experience from a template or a remote experience:</p>
<p>by navigating to the experience:</p>
<pre><code>$ xp pull
$ navigate to an `edit experience` page for xp to connect to it
$ open https://app.qubit.com/p/1234/experiences/5678/editor
  You recently navigated to https://app.qubit.com/p/1234/experiences/5678/editor
  Would you like xp to scaffold your local project from this experiment? (y/n)
  writing to local package.json file...
  writing to local global.js file...
  writing to local triggers.js file...
  writing to local variation-49937.js file...
  writing to local variation-49937.css file...
  writing to local variation-336711.js file...
  writing to local variation-336711.css file...
  All done!
</code></pre>
<p>// by pasting the editor url:</p>
<pre><code>$ xp pull https://app.qubit.com/p/1234/experiences/5678/editor
  pulling...
  pulled!
</code></pre>
<p>// by explicitly passing in propertyId and experienceId</p>
<pre><code>$ xp pull 1234 5678
  pulling...
  pulled!
</code></pre>
<p>// from a template:</p>
<pre><code>$ xp pull example
  writing to local package.json file...
  writing to local global.js file...
  writing to local triggers.js file...
  writing to local variation.js file...
  writing to local variation.css file...
</code></pre>
<p>once you have scaffolded your files from an existing experience, you can always pull down the latest remote changes with <code>xp pull</code></p>
<pre><code>$ xp pull // pull down latest version of experience
  pulled!
</code></pre>
<p>start building and previewing your experience:</p>
<pre><code>$ xp variation-336711.js --watch
  xp listening on port 41337

$ xp variation-336711.js --sync
  watching for changes
  xp listening on port 41337
  synced!
</code></pre>
<h2 id="xp-push">xp push</h2>
<p>once your local experience is connected/configured with the correct metadata you can run <code>xp push</code> to push your changes up to the platform</p>
<h2 id="templates">templates</h2>
<p>xp allows you to create, publish and share experience templates</p>
<p>any commonjs module containing a folder called template can be used by xp to scaffold a new project</p>
<p>creating a template:</p>
<pre><code>mkdir my-experience-template
cd my-experience-template
mkdir template
touch template/variation.js
npm init
npm link // make your module available globally on your system
</code></pre>
<p>using a template:</p>
<pre><code>xp pull my-experience-template
</code></pre>
<p>tip:
in order for your folder to be a valid javascript package, you need to have a &apos;main&apos; entry in your package.json that points to a a javascript file, e.g. <code>template/variation.js</code> otherwise npm will not recognise your folder as a module and you will not be able to install it</p>
<h2 id="file-reference">file reference</h2>
<pre><code>files:
- package.json // metadata
- global.js // global code
- triggers.js // activation logic
- varition-xxx.js // execution code
- variation-xxx.css // css
</code></pre>
<h2 id="help-menu">help menu</h2>
<pre><code>xp --help

  Usage: xp [variation.js] [options]
         xp &lt;cmd&gt; [options]


  Commands:

    create &lt;propertyId&gt;  create an experience
    push                 push experience up to remote
    pull                 pull experience from template, remote or experience editor
    open                 open xp folder in finder, e.g. to locate chrome-extension
    preview-link         log sharable preview links for your variations

  Options:

    -h, --help     output usage information
    -V, --version  output the version number
    -w, --watch    watch for changes and live reload
    -s, --sync     watch for changes and sync with remote
    -v, --verbose  log verbose output


  Examples:

    $ xp --help
    $ xp pull
    $ xp pull 2499 1234
    $ xp pull https://app.qubit.com/p/2499/experiences/84069/editor
    $ xp pull example

    $ xp create
    $ xp pull example

    $ xp variation.js --watch
    $ xp variation.js --sync
    $ xp push
    $ xp pull
</code></pre>
<p>notes:</p>
<ul>
<li>if it isn&apos;t working after an update, you may need to reload the extension</li>
</ul>
<p><a href="http://standardjs.com/"><img src="https://img.shields.io/badge/code%20style-standard-brightgreen.svg" alt="js-standard-style"></a></p>

        </div>
      </div>
    </div>
  </body>
</html>